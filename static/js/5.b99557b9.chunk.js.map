{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","hoc/withAuthRedirect.js","components/Dialogs/DialogsItem/DialogsItem.module.css","components/Dialogs/Messages/Messages.module.css","components/Dialogs/Messages/Message/Message.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/Messages/Message/Message.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/Messages/MessagesContainer.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Textarea","input","meta","props","hasError","touched","error","className","s","wrap","Input","required","value","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","DialogsItem","item","author","avatar","src","alt","messageBlock","name","message","Message","avatarLink","content","title","date","text","AddMessageFormRedux","reduxForm","form","footer","onSubmit","handleSubmit","Field","validate","component","placeholder","send","Messages","messageElements","messages","map","m","id","messagesWrap","header","button","values","sendMessage","newMessageBody","MessagesContainer","dispatch","sendMessageActionCreator","Dialogs","dialogsElements","dialogs","d","items","compose"],"mappings":"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","file":"static/js/5.b99557b9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__Mjk3A\",\"formSummaryError\":\"FormsControls_formSummaryError__1uP4k\"};","import React from 'react' \r\nimport s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError =  meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.wrap} ${hasError ? s.error : ''}`}>\r\n            <textarea {...input} {...props}></textarea>\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError =  meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.wrap} ${hasError ? s.error : ''}`}>\r\n            <input {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required'\r\n}","import React from 'react'\r\nimport { Redirect } from \"react-router-dom\"\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect  to={'/login'}/>\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComoinent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComoinent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"DialogsItem_item__l9OTh\",\"author\":\"DialogsItem_author__3AIkH\",\"avatar\":\"DialogsItem_avatar__3lOYS\",\"name\":\"DialogsItem_name__1OT5w\",\"message\":\"DialogsItem_message__3aJqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesWrap\":\"Messages_messagesWrap__1YA12\",\"header\":\"Messages_header__3wbDO\",\"button\":\"Messages_button__-QZzE\",\"name\":\"Messages_name__1e3Dr\",\"avatarLink\":\"Messages_avatarLink__1JMl5\",\"avatar\":\"Messages_avatar___OJrL\",\"messages\":\"Messages_messages__2B9V-\",\"message\":\"Messages_message__1k5Qe\",\"avatarMessageLink\":\"Messages_avatarMessageLink__LoPJa\",\"avatarMessage\":\"Messages_avatarMessage__1XE9I\",\"content\":\"Messages_content__356F_\",\"titleContent\":\"Messages_titleContent__2JkAz\",\"nameMessage\":\"Messages_nameMessage__2Kfr3\",\"date\":\"Messages_date__77TWD\",\"text\":\"Messages_text__1Mwx9\",\"footer\":\"Messages_footer__2llTO\",\"input\":\"Messages_input__1tih8\",\"send\":\"Messages_send__18p6m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1WI8H\",\"avatarLink\":\"Message_avatarLink__2Bz0-\",\"avatar\":\"Message_avatar__lbYVp\",\"content\":\"Message_content__o195c\",\"title\":\"Message_title__5gLv-\",\"name\":\"Message_name__24zCL\",\"date\":\"Message_date__XvCy6\",\"text\":\"Message_text__3NvpR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2Iq23\",\"items\":\"Dialogs_items__nRqY5\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './DialogsItem.module.css'\r\n\r\nconst DialogsItem = (props) => {\r\n    return (\r\n      <NavLink className={s.item} to={`/Messages`}>\r\n        <div className={s.author}>\r\n          <img\r\n            className={s.avatar}\r\n            src=\"https://sun1.sibirix.userapi.com/s/v1/if2/coZNQpCctyHJQUJGb1MP9vkEl1TBVIV3UOHL0zYQDEanPbzQeRhePIYf5fix_kTr2_US8GEHMHpzi6dIw6xnnf-n.jpg?size=200x0&quality=96&crop=0,362,1536,1536&ava=1\"\r\n            alt=\"\"\r\n          />\r\n          <div className={s.messageBlock}>\r\n            <div className={s.name}>{props.name}</div>\r\n            <div className={s.message}>{props.message}</div>\r\n          </div>\r\n        </div>\r\n      </NavLink>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default DialogsItem","import React from 'react'\r\nimport s from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n\r\n    return(\r\n      <div className={s.message}>\r\n        <a className={s.avatarLink}>\r\n          <img className={s.avatar} src=\"https://sun1.sibirix.userapi.com/s/v1/if2/coZNQpCctyHJQUJGb1MP9vkEl1TBVIV3UOHL0zYQDEanPbzQeRhePIYf5fix_kTr2_US8GEHMHpzi6dIw6xnnf-n.jpg?size=200x0&quality=96&crop=0,362,1536,1536&ava=1\" alt=\"\"/>\r\n        </a>\r\n        <div className={s.content}>\r\n          <div className={s.title}>\r\n              <a className={s.name}>{props.name}</a>\r\n              <div className={s.date}>18:00</div>\r\n          </div>\r\n          <div className={s.text}>{props.message}</div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport s from './Messages.module.css'\r\nimport Message from './Message/Message'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport {Input} from '../../common/FormsControls/FormsControls'\r\nimport { required } from '../../../utils/validators/validators'\r\n\r\n\r\n\r\nconst Messages = (props) => {\r\n\r\n    // const newMessageElement = React.createRef()\r\n\r\n    // const onSendMessage = (e) => {\r\n    //   // console.log(e.target)\r\n    //   // const message = e.target.value \r\n    //   const message = newMessageElement.current.value \r\n    //   props.sendMessage(message)\r\n    //   newMessageElement.current.value = ''\r\n    // }\r\n    let messageElements = props.messages.map((m) => {\r\n      return (\r\n        <Message name={m.name} message={m.message} id={m.id}/>\r\n      )\r\n    })\r\n\r\n    //redux-form\r\n    let addNewMessage = (values) => {\r\n      props.sendMessage(values.newMessageBody)\r\n    }\r\n\r\n    return(\r\n        <div className={s.messagesWrap}>\r\n            <div className={s.header}>\r\n              <div className={s.button}>Назад</div>\r\n              <div className={s.name}>Линара Шарипова</div>\r\n              <a className={s.avatarLink}>\r\n                <img className={s.avatar} src=\"https://sun1.sibirix.userapi.com/s/v1/if2/coZNQpCctyHJQUJGb1MP9vkEl1TBVIV3UOHL0zYQDEanPbzQeRhePIYf5fix_kTr2_US8GEHMHpzi6dIw6xnnf-n.jpg?size=200x0&quality=96&crop=0,362,1536,1536&ava=1\" alt=\"\"/>\r\n              </a>\r\n            </div>\r\n            <div className={s.messages}>\r\n              {messageElements}\r\n            </div>\r\n            {/* redux-form */}\r\n            <AddMessageFormRedux onSubmit={addNewMessage} />\r\n        </div>\r\n    )\r\n}\r\n\r\n//redux-form\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form className={s.footer} onSubmit={props.handleSubmit}>\r\n      {/* В component заменить на input */}\r\n      <Field validate={[required]} component={Input} name={'newMessageBody'} className={s.input} placeholder=\"Напишите сообщение...\"/>\r\n      <button className={s.send}>Send</button>\r\n    </form>\r\n  )\r\n}\r\n\r\n//redux-form\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n\r\nexport default Messages","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { sendMessageActionCreator } from '../../../redux/messages-reducer'\r\nimport Messages from './Messages'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    messages: state.messages\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(sendMessageActionCreator(newMessageBody))\r\n    }\r\n  }\r\n}\r\n\r\nlet MessagesContainer = connect(mapStateToProps, mapDispatchToProps)(Messages)\r\n\r\nexport default MessagesContainer","import React from 'react'\r\nimport DialogsItem from './DialogsItem/DialogsItem'\r\nimport MessagesContainer from './Messages/MessagesContainer'\r\nimport s from './Dialogs.module.css'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElements = props.dialogs.map((d) => {\r\n    return (\r\n      <DialogsItem key={d.id} name={d.name} message={d.message} id={d.id}/>\r\n    )\r\n  })\r\n\r\n  if (!props.isAuth){\r\n    return <Redirect to={'/login'} />\r\n  }\r\n\r\n    return(\r\n        <div className={s.dialogs}>\r\n            <div className={s.items}>\r\n                {dialogsElements}\r\n            </div>\r\n            <MessagesContainer/>\r\n            {/* <div className={s.dialogsMenu}>\r\n              DialogsMenu\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs","import React from 'react'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.dialogs.dialogs,\r\n    }\r\n  }\r\n\r\nexport default compose(connect(mapStateToProps), withAuthRedirect)(Dialogs)"],"sourceRoot":""}