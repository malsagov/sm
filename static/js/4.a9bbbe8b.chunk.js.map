{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileAvatar/ProfileAvatar.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","components/Profile/ProfileAvatar/ProfileAvatar.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Textarea","input","meta","props","hasError","touched","error","className","s","wrap","Input","required","value","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","unsupportedIterableToArray","TypeError","ProfileAvatar","avatarWrap","avatarSettings","avatar","src","profile","photos","large","Post","post","header","author","href","img","titleWrap","name","date","dropdownWrap","button","dropdown","drop","body","footer","like","title","likes","AddNewPostFormRedux","reduxForm","form","newPost","onSubmit","handleSubmit","Field","component","field","placeholder","validate","MyPosts","postsElements","posts","map","p","id","right","values","addPost","newPostText","MyPostsContainer","dispatch","text","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","statusText","onChange","e","target","onBlur","updateStatus","autoFocus","ProfileInfo","profileInfo","nameBlock","online","Profile","pageBody","left","Preloader","ProfileContainer","userId","match","params","autorizedUserId","history","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/4.a9bbbe8b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__Mjk3A\",\"formSummaryError\":\"FormsControls_formSummaryError__1uP4k\"};","import React from 'react' \r\nimport s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError =  meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.wrap} ${hasError ? s.error : ''}`}>\r\n            <textarea {...input} {...props}></textarea>\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError =  meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.wrap} ${hasError ? s.error : ''}`}>\r\n            <input {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required'\r\n}","import React from 'react'\r\nimport { Redirect } from \"react-router-dom\"\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect  to={'/login'}/>\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComoinent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComoinent\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarWrap\":\"ProfileAvatar_avatarWrap__uev4o\",\"avatar\":\"ProfileAvatar_avatar__3kACX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageBody\":\"Profile_pageBody__2jh44\",\"left\":\"Profile_left__2botK\",\"right\":\"Profile_right__1Xlpk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPost\":\"MyPosts_newPost__3JeRD\",\"field\":\"MyPosts_field__1s8Gx\",\"footer\":\"MyPosts_footer__3rW2Y\",\"button\":\"MyPosts_button__3mktP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__yx2dX\",\"header\":\"Post_header__31dKf\",\"author\":\"Post_author__2HWRL\",\"avatar\":\"Post_avatar__3T3pi\",\"img\":\"Post_img__gmfYE\",\"name\":\"Post_name__1sidG\",\"date\":\"Post_date__1LlQq\",\"button\":\"Post_button___Bxd9\",\"dropdown\":\"Post_dropdown__1rcmD\",\"dropdownWrap\":\"Post_dropdownWrap__ZC_yt\",\"drop\":\"Post_drop__1OWKG\",\"body\":\"Post_body__1z2oR\",\"footer\":\"Post_footer__3scf2\",\"like\":\"Post_like__1Wom3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__3fKu8\",\"header\":\"ProfileInfo_header__Cz_5J\",\"nameBlock\":\"ProfileInfo_nameBlock__3k3A6\",\"name\":\"ProfileInfo_name__o1I3N\",\"online\":\"ProfileInfo_online__BnLMC\",\"footer\":\"ProfileInfo_footer__PiRE-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__1AlJT\",\"statusText\":\"ProfileStatus_statusText__uHbtE\"};","import React from 'react'\r\nimport s from './ProfileAvatar.module.css'\r\n\r\n// \"https://sun1.sibirix.userapi.com/s/v1/if2/coZNQpCctyHJQUJGb1MP9vkEl1TBVIV3UOHL0zYQDEanPbzQeRhePIYf5fix_kTr2_US8GEHMHpzi6dIw6xnnf-n.jpg?size=200x0&quality=96&crop=0,362,1536,1536&ava=1\"\r\nconst ProfileAvatar = (props) => {\r\n    return (\r\n        <div className={s.avatarWrap}>\r\n            <div className={s.avatarSettings}>\r\n              <img className={s.avatar} src={props.profile.photos.large || 'https://vk.com/images/camera_200.png'} />\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default ProfileAvatar","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n          <div className={s.header}>\r\n            <div className={s.author}>\r\n              <a className={s.avatar} href=\"#\">\r\n                <img className={s.img} src=\"https://sun1.sibirix.userapi.com/s/v1/if2/coZNQpCctyHJQUJGb1MP9vkEl1TBVIV3UOHL0zYQDEanPbzQeRhePIYf5fix_kTr2_US8GEHMHpzi6dIw6xnnf-n.jpg?size=200x0&quality=96&crop=0,362,1536,1536&ava=1\"/>\r\n              </a>\r\n              <div className={s.titleWrap}>\r\n                <a className={s.name} href=\"#\">Руслан Мальсагов</a>\r\n                <a className={s.date} href=\"#\">6 сен 2020</a>\r\n              </div>\r\n            </div>\r\n            <div className={s.dropdownWrap}>\r\n              <div className={s.button}></div>\r\n              <div className={s.dropdown}>\r\n                <div className={s.drop}>Удалить запись</div>\r\n                <div className={s.drop}>Отключить комменатрии</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={s.body}>{props.post}</div>\r\n          <div className={s.footer}>\r\n            <div className={s.like} title=\"Нравиться\">+ {props.likes}</div>\r\n          </div>\r\n          {/* <div className=\"comment\"></div> */}\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Post","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport {required} from '../../../utils/validators/validators'\r\nimport {Textarea} from '../../common/FormsControls/FormsControls'\r\n\r\nconst MyPosts = (props) => {\r\n  \r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n  }\r\n\r\n  const postsElements = props.posts.map(p => {\r\n    return (\r\n      <Post key={p.id} post={p.post} likes={p.likes}/>\r\n    )\r\n  })\r\n  \r\n    return (\r\n      <div className={s.right}>\r\n        <AddNewPostFormRedux onSubmit={onAddPost} />\r\n        {postsElements}\r\n      </div>\r\n    )\r\n  }\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return(\r\n    <form className={s.newPost} onSubmit={props.handleSubmit}>\r\n      <Field component={Textarea} className={s.field} name={'newPostText'}  placeholder=\"Что у вас нового?\" validate={[required]}></Field>\r\n      <div className={s.footer}>\r\n        <button className={s.button}>Опубликовать</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'ProfileAddNewPostForm'})(AddNewPostForm)\r\n\r\n\r\nexport default MyPosts","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {addPostActionCreator} from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profile.posts\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (text) => {\r\n      dispatch(addPostActionCreator(text))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React, {useState, useEffect} from 'react'\r\nimport s from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    // state = {\r\n    //     editMode: false,\r\n    //     status: this.props.status\r\n    // }\r\n\r\n    // activateEditMode = () => {\r\n    //     this.setState({editMode: true})\r\n    // }\r\n\r\n    // deactivateEditMode = (e) => {\r\n    //     this.setState({editMode: false})\r\n    //     this.props.updateStatus(this.state.status)\r\n    // }\r\n\r\n    // onStatusChange = (e) => {\r\n    //     this.setState({status: e.target.value})\r\n    // }\r\n\r\n    // componentDidUpdate = (prevProps, prevState) => {\r\n    //     if (prevProps.status !== this.props.status) {\r\n    //         this.setState({\r\n    //             status: this.props.status\r\n    //         })\r\n    //     }\r\n    // }\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.target.value)\r\n    }\r\n\r\n    \r\n    return (\r\n    \r\n        <div>\r\n            { !editMode &&\r\n                <div onClick={activateEditMode} className={s.statusText}>{props.status || 'изменить статус'}</div>\r\n            }\r\n            { editMode && \r\n                <input onChange={onStatusChange} onBlur={deactivateEditMode}  autoFocus={true} className={s.status} value={status}/>\r\n            }\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatus/ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div className={s.profileInfo}>\r\n            <div className={s.header}>\r\n                <div className={s.nameBlock}>\r\n                    <div className={s.name}>Руслан Мальсагов</div>\r\n                    <div className={s.online}>online</div>\r\n                </div>\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n            <div className={s.footer}>\r\n                Друзей: 400\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport ProfileAvatar from './ProfileAvatar/ProfileAvatar'\r\nimport s from './Profile.module.css'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport Preloader from '../common/Preloader'\r\n\r\nconst Profile = (props) => {\r\n    if (!props.profile){\r\n      return <Preloader />\r\n    }\r\n    return (\r\n        <div className={s.pageBody}>\r\n          <div className={s.left}>\r\n            <ProfileAvatar profile={props.profile} />\r\n          </div>\r\n          <div className={s.right}>\r\n            <ProfileInfo status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer'\r\nimport { Redirect, withRouter } from 'react-router-dom'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.autorizedUserId\r\n      if(!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    )\r\n  }\r\n\r\n} \r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profile.profile,\r\n  status: state.profile.status,\r\n  autorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }), \r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}