{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Login/Login.jsx"],"names":["module","exports","Textarea","input","meta","props","hasError","touched","error","className","s","wrap","Input","required","value","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","validate","placeholder","name","component","type","formSummaryError","connect","state","isAuth","auth","login","logout","console","log","to","formData","email","password","rememberMe"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,MAAQ,6BAA6B,iBAAmB,0C,yJCE7DC,EAAW,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASC,EAAW,gCAC3CC,EAAYF,EAAKG,SAAWH,EAAKI,MACvC,OACI,sBAAKC,UAAS,UAAKC,IAAEC,KAAP,YAAeL,EAAWI,IAAEF,MAAQ,IAAlD,UACI,oDAAcL,GAAWE,IACvBC,GAAY,+BAAOF,EAAKI,YAKzBI,EAAQ,SAAC,GAA6B,IAA5BT,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASC,EAAW,gCACxCC,EAAYF,EAAKG,SAAWH,EAAKI,MACvC,OACI,sBAAKC,UAAS,UAAKC,IAAEC,KAAP,YAAeL,EAAWI,IAAEF,MAAQ,IAAlD,UACI,iDAAWL,GAAWE,IACpBC,GAAY,+BAAOF,EAAKI,a,iCClBtC,kCAAO,IAAMK,EAAW,SAACC,GACrB,IAAIA,EAGJ,MAAO,sB,iCCJX,oGA2BMC,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EAhBL,SAACX,GACf,OACI,8BACI,uBAAMa,SAAUb,EAAMc,aAAtB,UAEI,8BAAK,cAAC,IAAD,CAAOC,SAAU,CAACP,KAAWQ,YAAa,QAASC,KAAM,QAASC,UAAWX,QAClF,8BAAK,cAAC,IAAD,CAAOQ,SAAU,CAACP,KAAWQ,YAAa,WAAYC,KAAM,WAAYC,UAAWX,QACxF,gCAAK,cAAC,IAAD,CAAOY,KAAM,WAAYF,KAAM,aAAcC,UAAWX,MAA7D,kBACEP,EAAMG,OAAS,qBAAKC,UAAWC,IAAEe,iBAAlB,SAAqCpB,EAAMG,QAC5D,8BAAK,wBAAQgB,KAAM,SAAd,6BAmCNE,uBANS,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,UAIa,CAACE,UAAOC,YAAjCL,EA1BD,SAACrB,GAOX,OADA2B,QAAQC,IAAI5B,EAAMuB,QACdvB,EAAMuB,OACC,cAAC,IAAD,CAAUM,GAAI,aAIrB,gCACI,uCAEA,cAACnB,EAAD,CAAgBG,SAbP,SAACiB,GACdH,QAAQC,IAAIE,GACZ9B,EAAMyB,MAAMK,EAASC,MAAOD,EAASE,SAAUF,EAASG","file":"static/js/6.df9eba42.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__Mjk3A\",\"formSummaryError\":\"FormsControls_formSummaryError__1uP4k\"};","import React from 'react' \r\nimport s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError =  meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.wrap} ${hasError ? s.error : ''}`}>\r\n            <textarea {...input} {...props}></textarea>\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError =  meta.touched && meta.error\r\n    return (\r\n        <div className={`${s.wrap} ${hasError ? s.error : ''}`}>\r\n            <input {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required'\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n//redux-form\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required } from '../../utils/validators/validators'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport {login, logout} from '../../redux/auth-ruducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport s from '../common/FormsControls/FormsControls.module.css'\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                {/* redux-form */}\r\n                <div><Field validate={[required]} placeholder={'email'} name={'email'} component={Input}/></div>\r\n                <div><Field validate={[required]} placeholder={'password'} name={'password'} component={Input}/></div>\r\n                <div><Field type={'checkbox'} name={'rememberMe'} component={Input}/> remember me</div>\r\n                { props.error && <div className={s.formSummaryError}>{props.error}</div>}\r\n                <div><button type={'submit'}>Login</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n//redux-form\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    //redux-form\r\n    const onSubmit = (formData) => {\r\n        console.log(formData)\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n    console.log(props.isAuth)\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            {/* redux-form */}\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login)"],"sourceRoot":""}